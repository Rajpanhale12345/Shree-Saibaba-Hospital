/* ===== Container ===== */
.departments-wrap {
  width: 100%;
  max-width: 1300px;       /* a bit wider to allow bigger cards */
  margin: 32px auto 64px;
  padding: 0 16px;
}

/* ===== Grid: exactly 3 per row ===== */
.departments-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);   /* always 3 columns on large screens */
  gap:36px;                               /* more breathing room */
  justify-items: center;
  align-items: start;
}

/* ===== Card ===== */
.dep-card {
  position: relative;
  width: 100%;
  max-width: 380px;        /* bigger width than before */
  aspect-ratio: 16 / 10;   /* rectangular */
  border-radius: 12px;
  overflow: hidden;
  isolation: isolate;
  text-decoration: none;
  background: #fff;
  display: block;
}

/* Images show fully */
.dep-card img {
  display: block;
  width: 100%;

  height: 100%;
  object-fit: contain;     /* donâ€™t crop images */
  background: #fff;
  transition: transform 320ms ease;
}

/* ------ Bottom-to-top shutter overlay ------ */
.dep-overlay {
  position: absolute;
  inset: 0;
  background: rgba(0, 0, 0, 0.55);
  transform: translateY(100%);
  transition: transform 420ms ease;
  display: flex;
  align-items: center;
  justify-content: center;
}

.dep-overlay-text {
  color: #fff;
  font-weight: 700;
  font-size: 1.1rem;
  opacity: 0;
  transform: translateY(12px);
  transition:
    opacity 240ms ease 220ms,
    transform 240ms ease 220ms;
  text-align: center;
  padding: 0 12px;
}

/* Hover interactions */
.dep-card:hover .dep-overlay {
  transform: translateY(0);
}
.dep-card:hover .dep-overlay-text {
  opacity: 1;
  transform: translateY(0);
}
.dep-card:hover img {
  transform: scale(1.02);
}

/* Keyboard focus */
.dep-card:focus-visible {
  outline: 3px solid #2563eb;
  outline-offset: 4px;
}

/* ===== Responsive Breakpoints ===== */
@media (max-width: 1024px) {
  .departments-grid {
    grid-template-columns: repeat(2, 1fr);   /* 2 per row on tablets */
    gap: 28px;
  }
  .dep-card {
    max-width: 360px;
  }
}

@media (max-width: 640px) {
  .departments-grid {
    grid-template-columns: 1fr;             /* 1 per row on mobile */
    gap: 24px;
  }
  .dep-card {
    max-width: 420px;                       /* allow a bigger card on mobile */
    margin: 0 auto;
  }
}
